(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{290:function(t,a,s){"use strict";s.r(a);var n=s(38),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"物理-physics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#物理-physics","aria-hidden":"true"}},[t._v("#")]),t._v(" 物理-Physics")]),t._v(" "),s("p",[t._v("模拟了速度、加速度、摩擦力和弹性")]),t._v(" "),s("p",[t._v("它跟"),s("code",[t._v("decay")]),t._v(" "),s("code",[t._v("spring")]),t._v("是有区别的，物理效果是可以实时改变数值来调整动画的")]),t._v(" "),s("h2",{attrs:{id:"引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入","aria-hidden":"true"}},[t._v("#")]),t._v(" 引入")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" physics "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'popmotion'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("上面的例子表示，从0开始以速度1000无休止运行下去")]),t._v(" "),s("p",[t._v("为了让物体停下来，我们可以设置摩擦力"),s("code",[t._v("friction")]),t._v("，摩擦力接受0 ~ 1之间的数值，0表示没有摩擦力，物体不会停下，\n1表示死亡翻车(dead stop)，瞬间停止")]),t._v(" "),s("p",[t._v("还可以设置加速度，单位是s")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  acceleration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"支持的数值类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持的数值类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 支持的数值类型")]),t._v(" "),s("h4",{attrs:{id:"数字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数字","aria-hidden":"true"}},[t._v("#")]),t._v(" 数字")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"带单位的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带单位的","aria-hidden":"true"}},[t._v("#")]),t._v(" 带单位的")]),t._v(" "),s("p",[t._v("支持的单位："),s("code",[t._v("px")]),t._v(" "),s("code",[t._v("%")]),t._v(" "),s("code",[t._v("deg")]),t._v(" "),s("code",[t._v("vh")]),t._v(" "),s("code",[t._v("vw")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象","aria-hidden":"true"}},[t._v("#")]),t._v(" 对象")]),t._v(" "),s("p",[t._v("对象的值符合以上规则的，都可以做成动画。")]),t._v(" "),s("p",[s("code",[t._v("friction")]),t._v(" "),s("code",[t._v("acceleration")]),t._v(" "),s("code",[t._v("velocity")]),t._v(" "),s("code",[t._v("springStrength")]),t._v("都可以是对象类型，表示每个属性上的动画属性")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("以上表示x方向速度200，y方向速度1000")]),t._v(" "),s("h4",{attrs:{id:"数组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数组","aria-hidden":"true"}},[t._v("#")]),t._v(" 数组")]),t._v(" "),s("p",[t._v("数组的内容符合以上规则的，都可以做成动画。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("physics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10vh'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),s("h3",{attrs:{id:"velocity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#velocity","aria-hidden":"true"}},[t._v("#")]),t._v(" velocity")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("同"),s("code",[t._v("decay")])]),t._v(" "),s("h3",{attrs:{id:"from"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from","aria-hidden":"true"}},[t._v("#")]),t._v(" from")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("同"),s("code",[t._v("decay")])]),t._v(" "),s("h3",{attrs:{id:"acceleration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#acceleration","aria-hidden":"true"}},[t._v("#")]),t._v(" acceleration")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("加速度，"),s("code",[t._v("velocity")]),t._v("每秒都会增加这个数值")]),t._v(" "),s("h3",{attrs:{id:"restspeed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restspeed","aria-hidden":"true"}},[t._v("#")]),t._v(" restSpeed")]),t._v(" "),s("p",[s("strong",[t._v("默认：0.001")])]),t._v(" "),s("p",[t._v("释放速度，当速度小于该值的时候，直接变成0，并触发"),s("code",[t._v("complete")])]),t._v(" "),s("h3",{attrs:{id:"friction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#friction","aria-hidden":"true"}},[t._v("#")]),t._v(" friction")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("摩擦力，接受0 ~ 1之间的数值")]),t._v(" "),s("h3",{attrs:{id:"springstrength"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#springstrength","aria-hidden":"true"}},[t._v("#")]),t._v(" springStrength")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("弹性系数，类似设置物体的弹性，只有设置了"),s("code",[t._v("to")]),t._v("属性才生效，在物体到达目的地时候回根据该属性进行回弹动画，类似小球掉到桌面上，只有设置了一个"),s("code",[t._v("to")]),t._v("的边界值，才会回弹")]),t._v(" "),s("h3",{attrs:{id:"to"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#to","aria-hidden":"true"}},[t._v("#")]),t._v(" to")]),t._v(" "),s("p",[t._v("目标值")]),t._v(" "),s("h2",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("p",[s("code",[t._v("start")]),t._v(" "),s("code",[t._v("filter")]),t._v(" "),s("code",[t._v("pipe")]),t._v(" "),s("code",[t._v("while")])]),t._v(" "),s("h2",{attrs:{id:"实例方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),s("h3",{attrs:{id:"set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set","aria-hidden":"true"}},[t._v("#")]),t._v(" set")]),t._v(" "),s("p",[t._v("设置数据流，物体的速度摩擦力等均按照时间线走，不会重置")]),t._v(" "),s("h3",{attrs:{id:"setacceleration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setacceleration","aria-hidden":"true"}},[t._v("#")]),t._v(" setAcceleration")]),t._v(" "),s("p",[t._v("设置加速度，通过实时设置加速度，可以模拟物体的实际情况，既加速度受摩擦力影响会越来越小")]),t._v(" "),s("h3",{attrs:{id:"setfriction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setfriction","aria-hidden":"true"}},[t._v("#")]),t._v(" setFriction")]),t._v(" "),s("p",[t._v("实时设置摩擦力")]),t._v(" "),s("h3",{attrs:{id:"setspringstrength"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setspringstrength","aria-hidden":"true"}},[t._v("#")]),t._v(" setSpringStrength")]),t._v(" "),s("p",[t._v("实时设置弹性系数")]),t._v(" "),s("h3",{attrs:{id:"setspringtarget"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setspringtarget","aria-hidden":"true"}},[t._v("#")]),t._v(" setSpringTarget")]),t._v(" "),s("p",[t._v("设置回弹目的地")]),t._v(" "),s("h3",{attrs:{id:"setvelocity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setvelocity","aria-hidden":"true"}},[t._v("#")]),t._v(" setVelocity")]),t._v(" "),s("p",[t._v("实时设置速度")]),t._v(" "),s("h3",{attrs:{id:"stop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stop","aria-hidden":"true"}},[t._v("#")]),t._v(" stop")]),t._v(" "),s("p",[t._v("停止动画")]),t._v(" "),s("h2",{attrs:{id:"例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#例子","aria-hidden":"true"}},[t._v("#")]),t._v(" 例子")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://codepen.io/popmotion/pen/ooybYP",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://codepen.io/popmotion/pen/ooybYP"),s("OutboundLink")],1)])])},[],!1,null,null,null);a.default=e.exports}}]);