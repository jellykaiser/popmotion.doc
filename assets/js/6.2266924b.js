(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{286:function(t,a,s){"use strict";s.r(a);var e=s(38),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"衰减-decay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#衰减-decay","aria-hidden":"true"}},[t._v("#")]),t._v(" 衰减-Decay")]),t._v(" "),s("p",[t._v("衰减可以理解为物体的速度从预设值"),s("code",[t._v("velocity")]),t._v("慢慢衰减到0，这个衰减过程的快慢等受到其他属性的影响，\n在"),s("code",[t._v("update")]),t._v("输出的值，可以理解为，在衰减过程中，物体移动了多少距离")]),t._v(" "),s("h2",{attrs:{id:"引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入","aria-hidden":"true"}},[t._v("#")]),t._v(" 引入")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" decay "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'popmotion'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("p",[t._v("提供一个"),s("code",[t._v("velocity")]),t._v(" "),s("code",[t._v("from")]),t._v("属性，就可以计算出需要最终衰减值和减数向目标")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decay")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("上面的例子可以理解为，一个物体的速度是200，从坐标50开始运动，那么"),s("code",[t._v("v")]),t._v("打印出来的就是物体的坐标")]),t._v(" "),s("h2",{attrs:{id:"属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),s("p",[t._v("属性影响了整个衰减的过程以及最终输出值")]),t._v(" "),s("h3",{attrs:{id:"velocity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#velocity","aria-hidden":"true"}},[t._v("#")]),t._v(" velocity")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("初始化速度")]),t._v(" "),s("h3",{attrs:{id:"from"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from","aria-hidden":"true"}},[t._v("#")]),t._v(" from")]),t._v(" "),s("p",[s("strong",[t._v("默认：0")])]),t._v(" "),s("p",[t._v("初始化数值，衰减过程的数值都会加上该数值")]),t._v(" "),s("h3",{attrs:{id:"power"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#power","aria-hidden":"true"}},[t._v("#")]),t._v(" power")]),t._v(" "),s("p",[s("strong",[t._v("默认：0.8")])]),t._v(" "),s("p",[t._v("类似作用在物体上的初始作用力，可以理解为把物体扔出去的力量，力量越大，物体跑的越远")]),t._v(" "),s("h3",{attrs:{id:"timeconstant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#timeconstant","aria-hidden":"true"}},[t._v("#")]),t._v(" timeConstant")]),t._v(" "),s("p",[s("strong",[t._v("默认：350")])]),t._v(" "),s("p",[t._v("衰减的时间，物体在该时间内停下")]),t._v(" "),s("h3",{attrs:{id:"restdelta"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restdelta","aria-hidden":"true"}},[t._v("#")]),t._v(" restDelta")]),t._v(" "),s("p",[s("strong",[t._v("默认：0.5")])]),t._v(" "),s("p",[t._v("最后数值调整，既最后数值小于多少时，直接归0。")]),t._v(" "),s("p",[t._v("性能优化，如果动画持续时间很长，可能从0.5 => 0也需要很长一段时间，但是这些距离在肉眼上是看不出的，所以没必要在进行计算，小于一定数值，直接跳到0")]),t._v(" "),s("h3",{attrs:{id:"modifytarget"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modifytarget","aria-hidden":"true"}},[t._v("#")]),t._v(" modifyTarget")]),t._v(" "),s("p",[t._v("一个可以修改数据流的方法，你可以对数据进行加工处理再输出。")]),t._v(" "),s("p",[t._v("下面的例子就是将数值都变成整数")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decay")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  velocity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("modifyTarget")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("p",[t._v("调用"),s("code",[t._v("decay")]),t._v("之后返回的方法（同"),s("code",[t._v("action")]),t._v("）")]),t._v(" "),s("h3",{attrs:{id:"start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start","aria-hidden":"true"}},[t._v("#")]),t._v(" start")]),t._v(" "),s("p",[t._v("同 "),s("code",[t._v("action")])]),t._v(" "),s("h3",{attrs:{id:"pipe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pipe","aria-hidden":"true"}},[t._v("#")]),t._v(" pipe")]),t._v(" "),s("p",[t._v("同 "),s("code",[t._v("action")])]),t._v(" "),s("h3",{attrs:{id:"pipe-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pipe-2","aria-hidden":"true"}},[t._v("#")]),t._v(" pipe")]),t._v(" "),s("p",[t._v("同 "),s("code",[t._v("while")])]),t._v(" "),s("h3",{attrs:{id:"filter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filter","aria-hidden":"true"}},[t._v("#")]),t._v(" filter")]),t._v(" "),s("p",[t._v("过滤数据，只有满足条件的数据才能往后传输")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" filtered "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decay")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This animation will only output values higher than 0.5:")]),t._v("\nfiltered"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"实例方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 实例方法")]),t._v(" "),s("p",[t._v("在调用"),s("code",[t._v("decay().start()")]),t._v("之后，会返回动画实例，实例包含以下方法。")]),t._v(" "),s("h3",{attrs:{id:"stop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stop","aria-hidden":"true"}},[t._v("#")]),t._v(" stop")]),t._v(" "),s("p",[t._v("停止动画")]),t._v(" "),s("h3",{attrs:{id:"例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#例子","aria-hidden":"true"}},[t._v("#")]),t._v(" 例子")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://codepen.io/popmotion/pen/Kyewbv",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://codepen.io/popmotion/pen/Kyewbv"),s("OutboundLink")],1)])])},[],!1,null,null,null);a.default=r.exports}}]);